<div class="m-6 p-4">
    <div class="  flex justify-between">
        <div class="gap-x-2">
            <div class="font-bold text-2xl pb-2">Orders Management</div>

            <div class="text-xl md:text-lg ">All orders are showed her</div>
        </div>

        <!-- <div class="flex gap-x-4">
            <p-splitbutton rounded="25" class="rounded-md " label="Update Availabity" ></p-splitbutton>
            <p-button label="Add New Menu" rounded />
        </div> -->
    </div>

    <div class="flex justify-between items-center mt-8">
        <div class="font-bold text-2xl">Todays Order</div>
        <div class="flex flex-row  text-lg justify-between text-center">
            @if (showDatepicker)
            {
            <div (click)="changeControl()" class=" border cursor-pointer bg-white shadow-md m-2 px-3 py-3"> <i
                    class="pi pi-calendar mx-3"></i> {{today | ordinalDate}} </div>
            }@else {
            <p-datepicker size="small" (onSelect)="selectedDate($event)" [autofocus]="true" [iconDisplay]="'input'"
                [showIcon]="true" inputId="icondisplay" />
            }
            <div class="border bg-white shadow-md px-3 py-3 m-2"><i class="pi pi-filter mx-3"></i> Filter</div>
        </div>
    </div>


    <div class="my-6">

        @if (customerOrder().length ) {
        <p-table [value]="customerOrder()" [tableStyle]="{ 'min-width': '50rem' }">
            <ng-template #header>
                <tr class="bg-black">
                    <th>Order Id</th>
                    <th>Order Time</th>
                    <th>Customer Name</th>
                    <th>Order</th>
                    <th>Order</th>
                    <th>Order Status</th>
                    <th>Activites</th>
                </tr>
            </ng-template>
            <ng-template #body let-order>
                <tr>
                    <td>{{order.orderCode}}</td>
                    <td>{{order.createdOn | date:'shortTime'}}</td>
                    <td>{{order.customer}}</td>
                    <td>{{order.items[0].quantity}} {{order.items[0].productName ?? 'food item' }}</td>
                    <td>{{order.totalAmount}}</td>
                    <td>{{getOrderStatus(order.status)}}</td>
                    <td> <a class="font-bold text-p-color" (click)="openDetails(order)"
                            href="javascript:void(0)">View</a> </td>
                </tr>
            </ng-template>
        </p-table>
        }
        @else {
        <div class="flex  mt-8 border shadow rounded-lg bg-[#f3e7e4] justify-center items-center">
            <div class="m-4 text-lg font-semibold ">
                No Order Available
            </div>
        </div>
        }
    </div>
</div>
<p-dialog [(visible)]="productDialog" [style]="{width: '650px'}" [modal]="true" class="p-fluid">
    <ng-template #header>
        <div class="flex flex-col  gap-2">

            <p class="font-bold text-xl">Order #ORD-2471</p>
            <p>Details and informations about this order</p>
        </div>
    </ng-template>
    <ng-template pTemplate="content">

        <div class="mb-4 p-7 rounded-md order-view-bg">
            <label class="font-medium text-xl">Order Information</label>
            <div class="flex justify-between mt-2">
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Customer Name</p>
                    <p class="text-[#354052] font-semibold text-lg "> John Mmadu</p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Phone Number</p>
                    <p class="text-[#354052] font-semibold text-lg "> 08181151316</p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Timestap</p>
                    <p class="text-[#354052] font-semibold text-lg "> Sent at 1:24 PM Today</p>
                </div>
            </div>
            <div class="flex justify-between mt-2 flex-wrap">
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Order note</p>
                    <p class="text-[#354052]  font-semibold text-lg text-wrap ">No pepper, extra cutlery (optional) </p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold ">Payment Type</p>

                    <p-tag severity="success" [rounded]="true" value="Paid"></p-tag>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Order timeline</p>
                    <p class="text-[#354052] font-semibold text-lg "> 15 - 30min</p>
                </div>
            </div>
        </div>

        <div class="mb-4 p-7 rounded-md  order-view-bg">
            <label class="font-medium text-xl">Riderâ€™s Information</label>
            <div class="flex justify-between mt-2">
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Customer Name</p>
                    <p class="text-[#354052] font-semibold text-lg "> John Mmadu</p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Phone Number</p>
                    <p class="text-[#354052] font-semibold text-lg "> 08181151316</p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Timestap</p>
                    <p class="text-[#354052] font-semibold text-lg "> Sent at 1:24 PM Today</p>
                </div>
            </div>
            <div class="flex justify-between mt-2 flex-wrap">
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Order note</p>
                    <p class="text-[#354052]  font-semibold text-lg text-wrap ">No pepper, extra cutlery (optional) </p>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold ">Payment Type</p>

                    <p-tag severity="success" [rounded]="true" value="Paid"></p-tag>
                </div>
                <div class="">
                    <p class="text-[#5F738C] font-semibold "> Order timeline</p>
                    <p class="text-[#354052] font-semibold text-lg "> 15 - 30min</p>
                </div>
            </div>
        </div>
        <div class="mb-4 p-7 rounded-md order-table-bg  ">
            <label class="font-medium text-xl">Items ordered</label>

            <table class="w-full  mt-3">
                <thead>
                    <tr class="text-left">
                        <th>Name</th>

                        <th>Quantity</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="text-center">

                        <td>Spaghetti Bolognese</td>
                        <td>1</td>
                        <td>3500</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text"></button>
        <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text"></button>
    </ng-template>
</p-dialog>
